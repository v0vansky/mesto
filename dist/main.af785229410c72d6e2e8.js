(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var n,r;return n=t,(r=[{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"postCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._checkResponse(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"putLike",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"deleteLike",value:function(t){var e=this;return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"getUserInfo",value:function(){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"patchUserInfo",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._checkResponse(t)}))}},{key:"patchAvatar",value:function(t){var e=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._checkResponse(t)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function t(e,n,r,o,i,u,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this._name=e.name,this._link=e.link,this._templateSelector=r,this._handleCardClick=o,this._handleCardDelete=i,this._handleCardLike=u,this._handleCardUnlike=a,this._likes=e.likes,this._userId=n,this._id=e._id,this._owner=e.owner._id}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setValues",value:function(){this._elementImage=this._element.querySelector(".element__image"),this._elementText=this._element.querySelector(".element__text"),this._likeCounter=this._element.querySelector(".element__like-counter"),this._removeButton=this._element.querySelector(".element__remove-button"),this._likeButton=this._element.querySelector(".element__like-button"),this._likeCounter.textContent=this._likes.length,this._elementImage.src=this._link,this._elementText.textContent=this._name,this._elementImage.alt=this._name}},{key:"toggleLikeCard",value:function(t){this._likes=t.likes,this._likeCounter.textContent=this._likes.length,this._likeButton.classList.toggle("element__like-button_active")}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._likeButton.classList.contains("element__like-button_active")?t._handleCardUnlike(t):t._handleCardLike(t)})),this._removeButton.addEventListener("click",(function(){return t._handleCardDelete(t)})),this._elementImage.addEventListener("click",(function(){return t._handleCardClick({name:t._name,src:t._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setValues(),this._checkOwner(),this._checkLikeOwner(),this._setEventListeners(),this._element}},{key:"getId",value:function(){return this._data._id}},{key:"_checkOwner",value:function(){this._owner===this._userId&&this._removeButton.classList.add("element__remove-button_active")}},{key:"_checkLikeOwner",value:function(){var t=this;this._likes.some((function(e){return t._userId===e._id}))&&this._likeButton.classList.add("element__like-button_active")}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._element=n}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){var e=this._element.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._element.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","disabled")):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled","disabled"))}},{key:"_setEventListeners",value:function(){var t=this;this._inputList=Array.from(this._element.querySelectorAll(this._inputSelector)),this._buttonElement=this._element.querySelector(this._submitButtonSelector),this.toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInputError(e)})),this.toggleButtonState()}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._selector=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._selector.prepend(t)}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close-button"))&&t.close()}))}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=b(r);if(o){var n=b(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popup.querySelector(".popup__image"),e._popupImageName=e._popup.querySelector(".popup__image-name"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.src,n=t.name;this._popupImage.src=e,this._popupImage.alt=n,this._popupImageName.textContent=n,d(b(u.prototype),"open",this).call(this)}}])&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(h);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(r);if(o){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._submitHandler=e,n._form=n._popup.querySelector(".popup__form"),n._inputs=n._form.querySelectorAll(".popup__input"),n._submitButton=n._form.querySelector(".popup__save-button"),n._submitButtonText=n._submitButton.textContent,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputValues={},this._inputs.forEach((function(e){return t._inputValues[e.name]=e.value})),this._inputValues}},{key:"setInputValues",value:function(t){this._inputs.forEach((function(e){e.value=t[e.name]}))}},{key:"setEventListeners",value:function(){var t=this;w(O(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t.renderLoading(!0,"Сохранение..."),t._submitHandler(t._getInputValues())}))}},{key:"close",value:function(){w(O(u.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(t,e){this._submitButton.textContent=t?e:this._submitButtonText}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(h);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._submitButton=e._popup.querySelector(".popup__save-button"),e}return e=u,(n=[{key:"open",value:function(t){L(T(u.prototype),"open",this).call(this),this._deleteHandler=t,this._submitButton.onclick=this._deleteHandler}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(h);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}var x=function(){function t(e){var n=e.profileNameSelector,r=e.profileAboutSelector,o=e.profileAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar.src,_id:this._id}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about,r=t.avatar,o=t._id;e&&(this._name.textContent=e),n&&(this._about.textContent=n),r&&(this._avatar.src=r),o&&(this._id=o)}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),A=document.querySelector(".profile__edit-button"),V=document.querySelector(".profile__add-button"),U=document.querySelector(".profile__image-edit"),D={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var H,J=new f({renderer:function(t){var e=M(t);J.addItem(e)}},document.querySelector(".elements")),z=new x({profileNameSelector:".profile__name",profileAboutSelector:".profile__about",profileAvatarSelector:".profile__image"}),G=new n({url:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{"content-type":"application/json",authorization:"d19785a0-38bb-42d0-bebd-94abfb07212d"}});function M(t){return new i(t,H,"#place-template",$,Q,F,K).generateCard()}function $(t,e){Z.open(t,e)}function F(t){G.putLike(t.getId()).then((function(e){return t.toggleLikeCard(e)})).catch((function(t){return console.log(t)}))}function K(t){G.deleteLike(t.getId()).then((function(e){return t.toggleLikeCard(e)})).catch((function(t){return console.log(t)}))}function Q(t){rt.open((function(){G.deleteCard(t.getId()).then((function(){t.removeCard(),rt.close()})).catch((function(t){return console.log(t)}))}))}Promise.all([G.getUserInfo(),G.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];z.setUserInfo({name:o.name,about:o.about,avatar:o.avatar,_id:o._id}),H=z.getUserInfo()._id,J.renderItems(i.reverse())})).catch((function(t){return console.log(t)})),U.addEventListener("click",(function(){nt.open(),W.resetValidation()})),A.addEventListener("click",(function(){var t=z.getUserInfo();Y.resetValidation(),tt.open(),tt.setInputValues({inputName:t.name,inputAbout:t.about})})),V.addEventListener("click",(function(){et.open(),X.resetValidation()}));var W=new c(D,document.querySelector(".popup__form_type_avatar")),X=new c(D,document.querySelector(".popup__form_type_add-place")),Y=new c(D,document.querySelector(".popup__form_type_edit-profile"));W.enableValidation(),Y.enableValidation(),X.enableValidation();var Z=new g(".popup_type_image-zoom"),tt=new j(".popup_type_edit-profile",(function(t){var e=t.inputName,n=t.inputAbout;G.patchUserInfo({name:e,about:n}).then((function(){z.setUserInfo({name:e,about:n})})).then((function(){return tt.close()})).catch((function(t){return console.log(t)})).finally((function(){tt.renderLoading(!1)}))})),et=new j(".popup_type_add-place",(function(t){var e=t.inputPlace,n=t.inputUrl;G.postCard({name:e,link:n}).then((function(t){J.addItem(M({name:t.name,link:t.link,owner:{_id:H},likes:t.likes,_id:t._id}))})).then((function(){return et.close()})).catch((function(t){return console.log(t)})).finally((function(){et.renderLoading(!1)}))})),nt=new j(".popup_type_avatar",(function(t){var e=t.inputAvatar;G.patchAvatar({avatar:e}).then((function(){z.setUserInfo({avatar:e})})).then((function(){return nt.close()})).catch((function(t){return console.log(t)})).finally((function(){nt.renderLoading(!1)}))})),rt=new R(".popup_type_confirm");Z.setEventListeners(),tt.setEventListeners(),et.setEventListeners(),nt.setEventListeners(),rt.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0QsR0FBYyxJQUFJN0QsRUFBYyxzQkE5Q3RDLFNBQTJCZ0YsR0FBa0IsSUFBZkMsRUFBV0QsRUFBWEMsWUFDNUI1QyxFQUFJNkMsWUFBWSxDQUFFekQsT0FBUXdELElBQ3pCck4sTUFBSyxXQUNKd0ssRUFBU3NCLFlBQVksQ0FBRWpDLE9BQVF3RCxHQUNqQyxJQUNDck4sTUFBSyxrQkFBTWlNLEdBQVkxRSxPQUFPLElBQzlCMEQsT0FBTSxTQUFDQyxHQUFHLE9BQUtDLFFBQVFDLElBQUlGLEVBQUksSUFDL0I2QixTQUFRLFdBQ1BkLEdBQVlwRCxlQUFjLEVBQzVCLEdBQ0YsSUFxQ015QyxHQUFvQixJQUFJcEMsRUFBc0IsdUJBQ3BEMEIsRUFBVzJDLG9CQUNYakIsR0FBYWlCLG9CQUNiYixHQUFXYSxvQkFDWHRCLEdBQVlzQixvQkFDWmpDLEdBQWtCaUMsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fdXJsID0gb3B0aW9ucy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIHBvc3RDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIHB1dExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIHBhdGNoVXNlckluZm8oZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpO1xuICB9XG5cbiAgcGF0Y2hBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIHVzZXJJZCxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVDYXJkRGVsZXRlLFxuICAgIGhhbmRsZUNhcmRMaWtlLFxuICAgIGhhbmRsZUNhcmRVbmxpa2UsXG4gICAgKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRVbmxpa2UgPSBoYW5kbGVDYXJkVW5saWtlO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXIuX2lkO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldFZhbHVlcygpIHtcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XG4gICAgdGhpcy5fZWxlbWVudFRleHQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGV4dFwiKTtcbiAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50ZXJcIik7XG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3JlbW92ZS1idXR0b25cIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9lbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gIH1cblxuICB0b2dnbGVMaWtlQ2FyZChkYXRhKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmVcIikpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZFVubGlrZSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzKSk7XG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgc3JjOiB0aGlzLl9saW5rIH0pXG4gICAgKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRWYWx1ZXMoKTtcbiAgICB0aGlzLl9jaGVja093bmVyKCk7XG4gICAgdGhpcy5fY2hlY2tMaWtlT3duZXIoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuX2lkO1xuICB9XG5cbiAgX2NoZWNrT3duZXIoKSB7XG4gICAgaWYgKHRoaXMuX293bmVyID09PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fcmVtb3ZlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgX2NoZWNrTGlrZU93bmVyKCkge1xuICAgIGlmICh0aGlzLl9saWtlcy5zb21lKCh1c2VyKSA9PiB0aGlzLl91c2VySWQgPT09IHVzZXIuX2lkKSkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9lbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSlcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KVxuICAgIH0pXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpXG4gIH1cblxufVxuXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcblxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pXG4gICAgfSlcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX3NlbGVjdG9yLnByZXBlbmQoaXRlbSlcbiAgfVxufTtcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24nKSkge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgICAgICBzdXBlcihwb3B1cCk7XG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2VOYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1uYW1lJyk7XG4gICAgfVxuXG4gICAgb3Blbih7IHNyYywgbmFtZSB9KSB7XG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gc3JjO1xuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2VOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgc3VwZXIub3BlbigpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXAsIHN1Ym1pdEhhbmRsZXIpIHtcbiAgICAgICAgc3VwZXIocG9wdXApO1xuICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgICAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgfVxuXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzXG4gICAgfVxuXG4gICAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKHRydWUsIFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0KSB7XG4gICAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcbiAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICAgICAgc3VwZXIocG9wdXApO1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUtYnV0dG9uJyk7XG4gICAgfVxuXG4gICAgb3BlbihkZWxldGVIYW5kbGVyKSB7XG4gICAgICBzdXBlci5vcGVuKCk7XG4gICAgICB0aGlzLl9kZWxldGVIYW5kbGVyID0gZGVsZXRlSGFuZGxlcjtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5vbmNsaWNrID0gdGhpcy5fZGVsZXRlSGFuZGxlcjtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVBYm91dFNlbGVjdG9yLCBwcm9maWxlQXZhdGFyU2VsZWN0b3IgfSkge1xuICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUFib3V0U2VsZWN0b3IpO1xuICAgICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgICBjb25zdCB1c2VySW5mbyA9IHtcbiAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcbiAgICAgICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXG4gICAgICAgICAgX2lkOiB0aGlzLl9pZFxuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJJbmZvXG4gIH1cblxuICBzZXRVc2VySW5mbyggeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQgfSApIHtcbiAgICAgIGlmIChuYW1lKSB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgIGlmIChhYm91dCkgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICAgIGlmIChhdmF0YXIpIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XG4gICAgICBpZiAoX2lkKSB0aGlzLl9pZCA9IF9pZDtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGJ1dHRvblByb2ZpbGVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBidXR0b25BZGRQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBidXR0b25BdmF0YXJFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IHBsYWNlc0dyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3NhdmUtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJ1xufTtcblxuXG5leHBvcnQgY29uc3QgYXV0aERhdGEgPSB7XG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYwXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBhdXRob3JpemF0aW9uOiBcImQxOTc4NWEwLTM4YmItNDJkMC1iZWJkLTk0YWJmYjA3MjEyZFwiLFxuICB9XG59XG4iLCJpbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBidXR0b25Qcm9maWxlRWRpdCxcbiAgYnV0dG9uQWRkUGxhY2UsXG4gIGJ1dHRvbkF2YXRhckVkaXQsXG4gIHBsYWNlc0dyaWQsXG4gIHNldHRpbmdzLFxuICBhdXRoRGF0YSxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgfSxcbiAgfSxcbiAgcGxhY2VzR3JpZFxuKVxuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcbiAgcHJvZmlsZUFib3V0U2VsZWN0b3I6IFwiLnByb2ZpbGVfX2Fib3V0XCIsXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pXG5sZXQgdXNlcklkO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGF1dGhEYXRhKTtcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyRGF0YSwgaW5pdGlhbENhcmRzXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBhYm91dDogdXNlckRhdGEuYWJvdXQsXG4gICAgICBhdmF0YXI6IHVzZXJEYXRhLmF2YXRhcixcbiAgICAgIF9pZDogdXNlckRhdGEuX2lkLFxuICAgIH0pO1xuICAgIHVzZXJJZCA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkuX2lkO1xuICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcyhpbml0aWFsQ2FyZHMucmV2ZXJzZSgpKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgaXRlbSxcbiAgICB1c2VySWQsXG4gICAgXCIjcGxhY2UtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVDYXJkTGlrZSxcbiAgICBoYW5kbGVDYXJkVW5saWtlLFxuICApO1xuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIHNyYykge1xuICBwb3B1cEltYWdlLm9wZW4obmFtZSwgc3JjKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2UoaXRlbSkge1xuICBhcGkucHV0TGlrZShpdGVtLmdldElkKCkpXG4gIC50aGVuKChkYXRhKSA9PiBpdGVtLnRvZ2dsZUxpa2VDYXJkKGRhdGEpKVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRVbmxpa2UoaXRlbSkge1xuICBhcGkuZGVsZXRlTGlrZShpdGVtLmdldElkKCkpXG4gIC50aGVuKChkYXRhKSA9PiBpdGVtLnRvZ2dsZUxpa2VDYXJkKGRhdGEpKVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmREZWxldGUoaXRlbSkge1xuICBwb3B1cENvbmZpcm1hdGlvbi5vcGVuKCgpID0+IHtcbiAgICBhcGkuZGVsZXRlQ2FyZChpdGVtLmdldElkKCkpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGl0ZW0ucmVtb3ZlQ2FyZCgpO1xuICAgICAgICBwb3B1cENvbmZpcm1hdGlvbi5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZVN1Ym1pdCh7IGlucHV0TmFtZSwgaW5wdXRBYm91dCB9KSB7XG4gIGFwaS5wYXRjaFVzZXJJbmZvKHsgbmFtZTogaW5wdXROYW1lLCBhYm91dDogaW5wdXRBYm91dCB9KVxuICAudGhlbigoKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiBpbnB1dE5hbWUsIGFib3V0OiBpbnB1dEFib3V0IH0pXG4gIH0pXG4gIC50aGVuKCgpID0+IHBvcHVwUHJvZmlsZS5jbG9zZSgpKVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgLmZpbmFsbHkoKCkgPT4ge1xuICAgIHBvcHVwUHJvZmlsZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRTdWJtaXQoeyBpbnB1dFBsYWNlLCBpbnB1dFVybCB9KSB7XG4gIGFwaS5wb3N0Q2FyZCh7IG5hbWU6IGlucHV0UGxhY2UsIGxpbms6IGlucHV0VXJsIH0pXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oXG4gICAgICBjcmVhdGVDYXJkKHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICAgIG93bmVyOiB7IF9pZDogdXNlcklkIH0sXG4gICAgICAgIGxpa2VzOiBkYXRhLmxpa2VzLFxuICAgICAgICBfaWQ6IGRhdGEuX2lkLFxuICAgICAgfSlcbiAgICApO1xuICB9KVxuICAudGhlbigoKSA9PiBwb3B1cFBsYWNlLmNsb3NlKCkpXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAuZmluYWxseSgoKSA9PiB7XG4gICAgcG9wdXBQbGFjZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Ym1pdCh7IGlucHV0QXZhdGFyIH0pIHtcbiAgYXBpLnBhdGNoQXZhdGFyKHsgYXZhdGFyOiBpbnB1dEF2YXRhciB9KVxuICAudGhlbigoKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBhdmF0YXI6IGlucHV0QXZhdGFyIH0pO1xuICB9KVxuICAudGhlbigoKSA9PiBwb3B1cEF2YXRhci5jbG9zZSgpKVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgLmZpbmFsbHkoKCkgPT4ge1xuICAgIHBvcHVwQXZhdGFyLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICB9KTtcbn1cblxuYnV0dG9uQXZhdGFyRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEF2YXRhci5vcGVuKCk7XG4gIGZvcm1BdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KVxuYnV0dG9uUHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudEluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBmb3JtRWRpdFByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG4gIHBvcHVwUHJvZmlsZS5zZXRJbnB1dFZhbHVlcyh7IGlucHV0TmFtZTogY3VycmVudEluZm8ubmFtZSwgaW5wdXRBYm91dDogY3VycmVudEluZm8uYWJvdXQgfSk7XG59KTtcbmJ1dHRvbkFkZFBsYWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwUGxhY2Uub3BlbigpO1xuICBmb3JtQWRkUGxhY2VWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuY29uc3QgZm9ybUF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBzZXR0aW5ncyxcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2F2YXRhclwiKVxuKTtcbmNvbnN0IGZvcm1BZGRQbGFjZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBzZXR0aW5ncyxcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2FkZC1wbGFjZVwiKVxuKTtcbmNvbnN0IGZvcm1FZGl0UHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBzZXR0aW5ncyxcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV90eXBlX2VkaXQtcHJvZmlsZVwiKVxuKTtcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybUVkaXRQcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmZvcm1BZGRQbGFjZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZS16b29tXCIpO1xuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIiwgaGFuZGxlUHJvZmlsZVN1Ym1pdCk7XG5jb25zdCBwb3B1cFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9hZGQtcGxhY2VcIiwgaGFuZGxlQ2FyZFN1Ym1pdCk7XG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsIGhhbmRsZUF2YXRhclN1Ym1pdCk7XG5jb25zdCBwb3B1cENvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXCIucG9wdXBfdHlwZV9jb25maXJtXCIpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cFBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBDb25maXJtYXRpb24uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiJdLCJuYW1lcyI6WyJBcGkiLCJvcHRpb25zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJrZXkiLCJ2YWx1ZSIsIl90aGlzIiwiZmV0Y2giLCJjb25jYXQiLCJtZXRob2QiLCJ0aGVuIiwicmVzIiwiX2NoZWNrUmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZGF0YSIsIl90aGlzMiIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiX3RoaXMzIiwiX3RoaXM0IiwiX3RoaXM1IiwiX3RoaXM2IiwiX3RoaXM3IiwiX3RoaXM4IiwiQ2FyZCIsInVzZXJJZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlQ2FyZExpa2UiLCJoYW5kbGVDYXJkVW5saWtlIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsIl9oYW5kbGVDYXJkVW5saWtlIiwiX2xpa2VzIiwibGlrZXMiLCJfdXNlcklkIiwiX2lkIiwiX293bmVyIiwib3duZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnRJbWFnZSIsIl9lbGVtZW50IiwiX2VsZW1lbnRUZXh0IiwiX2xpa2VDb3VudGVyIiwiX3JlbW92ZUJ1dHRvbiIsIl9saWtlQnV0dG9uIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJzcmMiLCJhbHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0VmFsdWVzIiwiX2NoZWNrT3duZXIiLCJfY2hlY2tMaWtlT3duZXIiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGQiLCJzb21lIiwidXNlciIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiX2lucHV0TGlzdCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiaW5wdXQiLCJTZWN0aW9uIiwiX3JlZiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfc2VsZWN0b3IiLCJpdGVtcyIsIml0ZW0iLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjbG9zZSIsImV2dCIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwSW1hZ2VOYW1lIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRIYW5kbGVyIiwiX3N1Ym1pdEhhbmRsZXIiLCJfZm9ybSIsIl9pbnB1dHMiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJfaW5wdXRWYWx1ZXMiLCJwcmV2ZW50RGVmYXVsdCIsInJlbmRlckxvYWRpbmciLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiZGVsZXRlSGFuZGxlciIsIl9kZWxldGVIYW5kbGVyIiwib25jbGljayIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWVTZWxlY3RvciIsInByb2ZpbGVBYm91dFNlbGVjdG9yIiwicHJvZmlsZUF2YXRhclNlbGVjdG9yIiwiX2Fib3V0IiwiX2F2YXRhciIsImFib3V0IiwiYXZhdGFyIiwiX3JlZjIiLCJidXR0b25Qcm9maWxlRWRpdCIsImJ1dHRvbkFkZFBsYWNlIiwiYnV0dG9uQXZhdGFyRWRpdCIsInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiY2FyZHNMaXN0IiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwiYWRkSXRlbSIsInVzZXJJbmZvIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImdlbmVyYXRlQ2FyZCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwicHV0TGlrZSIsImdldElkIiwidG9nZ2xlTGlrZUNhcmQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVMaWtlIiwicG9wdXBDb25maXJtYXRpb24iLCJkZWxldGVDYXJkIiwicmVtb3ZlQ2FyZCIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlckRhdGEiLCJpbml0aWFsQ2FyZHMiLCJzZXRVc2VySW5mbyIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsInBvcHVwQXZhdGFyIiwiZm9ybUF2YXRhclZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsImN1cnJlbnRJbmZvIiwiZm9ybUVkaXRQcm9maWxlVmFsaWRhdG9yIiwicG9wdXBQcm9maWxlIiwic2V0SW5wdXRWYWx1ZXMiLCJpbnB1dE5hbWUiLCJpbnB1dEFib3V0IiwicG9wdXBQbGFjZSIsImZvcm1BZGRQbGFjZVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJfcmVmMyIsInBhdGNoVXNlckluZm8iLCJmaW5hbGx5IiwiX3JlZjQiLCJpbnB1dFBsYWNlIiwiaW5wdXRVcmwiLCJwb3N0Q2FyZCIsIl9yZWY1IiwiaW5wdXRBdmF0YXIiLCJwYXRjaEF2YXRhciIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==